

CREATE DATABASE IF NOT EXISTS Attandance

CREATE TABLE IF NOT EXISTS Members (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	fname VARCHAR(255) NOT NULL,
	mname VARCHAR(255) NOT NULL,
	lname VARCHAR(255) NOT NULL,
	sex VARCHAR(30) NOT NULL,
	position VARCHAR(30) NOT NULL,
	idnumber VARCHAR(30) NOT NULL,	
	phone VARCHAR(30) NOT NULL,
	address TEXT NOT NULL,
	img BLOB NOT NULL,
	role int(11) NOT NULL,
	email VARCHAR(255), 
	reg_date DATETIME
)

CREATE TABLE IF NOT EXISTS Roles(
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	role VARCHAR(20)
)

CREATE TABLE IF NOT EXISTS users (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	user INT(11) NOT NULL,
	userName VARCHAR (255) NOT NULL,
	password VARCHAR (255) NOT NULL,
	salt VARCHAR (255) NOT NULL,
	status int (2) NOT NULL,
	apdate INT (2) NOT NULL
)

CREATE TABLE IF NOT EXISTS settings (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR (30) NOT NULL,
	value VARCHAR (30) NOT NULL,
	extra VARCHAR (30)
)

CREATE TABLE IF NOT EXISTS attandance (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	user INT (11) NOT NULL,
	att TIME NOT NULL,
	date DATE NOT NULL,
	parms VARCHAR (5) NOT NULL,
	site INT (11) NOT NULL
)

CREATE TABLE IF NOT EXISTS sites (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR (255) NOT NULL,
	location VARCHAR (255) NOT NULL,
	extra VARCHAR (255)
)

CREATE TABLE IF NOT EXISTS logs (
	id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	user INT(11) NOT NULL,
	action VARCHAR(12) NOT NULL,
	comments TEXT NOT NULL,
	checksum TEXT
)